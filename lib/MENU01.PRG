PARAMETERS TXT, YES, NO, TITL, COLOR, SECOND
PUSH KEY CLEAR
DO DEFA WITH YES, 'Да'
DO DEFA WITH NO, 'Hет'
PRIVATE ALL LIKE l*
PRIVATE I, P
LP = MAX(LEN(YES),LEN(NO))
YES = PADC(YES,LP)
NO = PADC(NO,LP)
LT = MIN(LEN(TXT),76)
LET = 1
DIMENSION LTEXT(1)
DO LINES WITH TXT, M -> LT, LTEXT, LET
DIMENSION LTEXT(LET)
LT = 0
FOR I = 1 TO LET
   LTEXT(I) = ALLTRIM(LTEXT(I))
   LT = MAX(M->LT,LEN(LTEXT(I)))
ENDFOR
L = MAX(M->LT,LP+LP+5)
DO DEFA WITH M -> COLOR, 'GR+/GR+,W+/GR+,W+/GR+,W+/GR+,,n/g'
DEFINE WINDOW A FROM INT((SROWS()-LET-3)/2), INT((SCOLS()-L)/2)-2 TO INT;
((SROWS()+LET+3)/2), INT((SCOLS()+L)/2)+2 SHADOW TITLES IIF(EMPTY(M->TITL);
,'',' '+M->TITL+' ') COLOR (M->COLOR)
ACTIVATE WINDOW NOSHOW A
FOR I = 1 TO LET
   @ I-1, INT((WCOLS()-M->LT)/2) SAY PADC(LTEXT(I),M->LT)
ENDFOR
PV = INT((WCOLS()/2-LP)/2)
@ I, PV PROMPT YES COLOR (M->COLOR)
@ I, WCOLS()-PV-LP-1 PROMPT NO COLOR (M->COLOR)
P = IIF(M->SECOND,2,1)
WAIT CLEAR
ACTIVATE WINDOW SAME A
MENU TO P
RELEASE WINDOW A
POP KEY
RETURN M->P=1


